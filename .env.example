# Database connection DSN for dupcanon (postgresql://... or postgres://...)
# Do NOT use your Supabase project HTTPS URL. If direct DB access is unreachable,
# use the Supabase IPv4 pooler DSN.
SUPABASE_DB_URL=

# Gemini API key
GEMINI_API_KEY=

# OpenAI API key (required for default OpenAI embeddings; also used when judge provider=openai)
OPENAI_API_KEY=

# OpenRouter API key (optional; needed only when judge provider=openrouter)
OPENROUTER_API_KEY=

# openai-codex provider runs via `pi --mode rpc --provider openai-codex` (no API key here)

# GitHub token (optional if using gh auth in local shell)
GITHUB_TOKEN=

# Optional Logfire token
# With send_to_logfire="if-token-present", logs are only sent when a token is present.
# Console logging still works without Logfire token.
LOGFIRE_TOKEN=

# Optional embedding/runtime overrides (v1 locks embedding dim to 768)
# Supported providers: gemini, openai
DUPCANON_EMBEDDING_PROVIDER=openai
# gemini example: gemini-embedding-001
# openai example: text-embedding-3-large
DUPCANON_EMBEDDING_MODEL=text-embedding-3-large
DUPCANON_EMBEDDING_DIM=768
DUPCANON_EMBED_BATCH_SIZE=32
DUPCANON_EMBED_WORKER_CONCURRENCY=2

# Optional judge/runtime overrides
# Supported providers: gemini, openai, openrouter, openai-codex
DUPCANON_JUDGE_PROVIDER=openai-codex
# Used when selected provider matches DUPCANON_JUDGE_PROVIDER.
# If provider differs and --model is omitted, provider defaults are used.
DUPCANON_JUDGE_MODEL=gpt-5.1-codex-mini
# Thinking: off, minimal, low, medium, high, xhigh
DUPCANON_JUDGE_THINKING=
DUPCANON_JUDGE_WORKER_CONCURRENCY=4

# Optional judge-audit defaults (can still be overridden by flags)
# Each lane resolves model independently:
# - if --cheap-model/--strong-model is set, it wins
# - else if lane provider matches lane configured provider, lane configured model is used
# - else provider defaults are used
DUPCANON_JUDGE_AUDIT_CHEAP_PROVIDER=gemini
DUPCANON_JUDGE_AUDIT_CHEAP_MODEL=
DUPCANON_JUDGE_AUDIT_CHEAP_THINKING=
DUPCANON_JUDGE_AUDIT_STRONG_PROVIDER=openai
DUPCANON_JUDGE_AUDIT_STRONG_MODEL=
DUPCANON_JUDGE_AUDIT_STRONG_THINKING=

# Optional candidates/runtime overrides
DUPCANON_CANDIDATE_WORKER_CONCURRENCY=4

# Optional overrides
# Artifacts are emitted to Logfire; this path is retained for compatibility and user-directed outputs.
DUPCANON_ARTIFACTS_DIR=.local/artifacts
DUPCANON_LOG_LEVEL=INFO
